<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MILO | App Home</title>
    <link rel="stylesheet" href="/app.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <h1>MILO App</h1>
        <div class="user-chip">
          <div id="user-name">Staff User</div>
          <small id="user-role">role</small>
        </div>
        <nav class="menu">
          <a class="active menu-tab" href="#" data-tab="home">Home</a>
          <a class="menu-tab" href="#" data-tab="customers">Customers</a>
          <a class="menu-tab" href="#" data-tab="reports">Reports</a>
          <a class="menu-tab" href="#" data-tab="calendar">Calendar</a>
          <a class="menu-tab" href="#" data-tab="appointments">Appointments</a>
        </nav>
      </aside>

      <main class="content">
        <div class="topbar-row">
          <div>
            <h2 id="active-tab-title">Operations Home</h2>
            <p id="today-label">Today</p>
          </div>
          <button id="logout-btn" class="btn btn-outline">Log Out</button>
        </div>

        <section class="tab-panel active" data-panel="home">
          <section class="kpi-grid">
            <article class="card kpi">
              <small>Boarding Occupancy</small>
              <div class="value" id="kpi-occupancy">0%</div>
            </article>
            <article class="card kpi">
              <small>Dogs On Site</small>
              <div class="value" id="kpi-onsite">0</div>
            </article>
            <article class="card kpi">
              <small>Daycare Check-ins</small>
              <div class="value" id="kpi-daycare">0</div>
            </article>
            <article class="card kpi">
              <small>Grooming Appointments</small>
              <div class="value" id="kpi-grooming">0</div>
            </article>
          </section>

          <section class="dashboard-grid">
            <article class="card panel">
              <h3>Arrivals & Departures</h3>
              <div id="arrivals-list" class="list"></div>
            </article>

            <article class="card panel">
              <h3>Quick Actions</h3>
              <div class="action-row">
                <button class="btn btn-primary" data-action="New Customer" data-target-tab="customers">New Customer</button>
                <button class="btn btn-primary" data-action="Check In Dog" data-target-tab="calendar">Check In Dog</button>
                <button class="btn btn-outline" data-action="Schedule Grooming" data-target-tab="appointments">Schedule Grooming</button>
                <button class="btn btn-outline" data-action="View Reports" data-target-tab="reports">View Reports</button>
              </div>
              <div id="action-output" class="inline-notice"></div>
            </article>
          </section>

          <section class="dashboard-grid">
            <article class="card panel">
              <h3>Daycare Groups</h3>
              <div id="daycare-list" class="list"></div>
            </article>

            <article class="card panel">
              <h3>Grooming Queue</h3>
              <div id="grooming-list" class="list"></div>
            </article>
          </section>
        </section>

        <section class="tab-panel" data-panel="calendar">
          <article class="card panel">
            <h3>Calendar</h3>
            <p class="muted">Todayâ€™s calendar blocks for check-ins, check-outs, daycare, and grooming.</p>
            <div id="calendar-list" class="list"></div>
          </article>
        </section>

        <section class="tab-panel" data-panel="customers">
          <section class="customer-module">
            <article class="card panel">
              <div class="panel-head">
                <div>
                  <h3>Customers</h3>
                  <p class="muted">Select a customer to edit details and manage pets.</p>
                </div>
                <button id="new-customer-btn" class="btn btn-outline" type="button">+ New Customer</button>
              </div>
              <div id="customer-record-list" class="record-list"></div>
            </article>

            <article class="card panel">
              <h3>Customer Details</h3>
              <form id="customer-form" class="settings-form compact-form">
                <input type="hidden" name="customerId" />
                <label>First Name
                  <input name="firstName" required />
                </label>
                <label>Last Name
                  <input name="lastName" required />
                </label>
                <label>Email
                  <input name="email" type="email" />
                </label>
                <label>Phone
                  <input name="phone" />
                </label>
                <label>Notes
                  <input name="notes" />
                </label>
                <button class="btn btn-primary" type="submit">Save Customer</button>
              </form>
              <div id="customer-output" class="inline-notice"></div>

              <div class="panel-head pets-head">
                <div>
                  <h3>Pets</h3>
                  <p class="muted" id="active-customer-label">Select or create a customer first.</p>
                </div>
                <button id="new-pet-btn" class="btn btn-outline" type="button">+ New Pet</button>
              </div>

              <form id="pet-form" class="settings-form compact-form">
                <input type="hidden" name="petId" />
                <label>Pet Name
                  <input name="name" required />
                </label>
                <label>Species
                  <input name="species" value="dog" required />
                </label>
                <label>Breed
                  <input name="breed" />
                </label>
                <label>Profile Photo URL
                  <input name="photoUrl" type="url" placeholder="https://..." />
                </label>
                <div class="pet-photo-row">
                  <img id="pet-photo-preview" src="https://placehold.co/96x96/e2e8f0/475569?text=PET" alt="Pet profile preview" />
                  <label class="checkbox-label">
                    <input name="archived" type="checkbox" />
                    Archived
                  </label>
                </div>
                <button class="btn btn-primary" type="submit">Save Pet</button>
              </form>

              <div id="pet-record-list" class="record-list pet-record-list"></div>
              <div id="pet-output" class="inline-notice"></div>
            </article>
          </section>
        </section>


        <section class="tab-panel" data-panel="reports">
          <article class="card panel">
            <h3>Reports</h3>
            <p class="muted">High-level performance metrics for the current month.</p>
            <div id="report-list" class="list"></div>
          </article>
        </section>

        <section class="tab-panel" data-panel="appointments">
          <section class="appointments-grid">
            <article class="card panel">
              <h3>Bookable Groomers</h3>
              <p class="muted">Employees marked as bookable for grooming appointments.</p>
              <div id="bookable-employee-list" class="record-list"></div>
            </article>

            <article class="card panel">
              <h3 id="appointments-title">Employee Calendar</h3>
              <p class="muted">Daily grooming schedule for the selected employee.</p>
              <div id="employee-calendar-list" class="list"></div>
            </article>
          </section>
        </section>
      </main>
    </div>

    <script src="/app-home.js"></script>
  </body>
</html>
